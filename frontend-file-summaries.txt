{
  "frontend/src/App.tsx": "Main application component with TanStack Router setup including error boundaries for all routes, defining all routes including the new /stats route, wrapped with ThemeProvider and AuthGate.",
  "frontend/src/components/layout/AppLayout.tsx": "Main application layout with header containing a \"Connecting...\" loading indicator (shown when authenticated but actor/profile not ready), Stats button, admin Shield button, ProfileSetupDialog, LoginButton, and consistent footer structure.",
  "frontend/src/components/auth/AuthGate.tsx": "Authentication and authorization gate that checks login status, approval status, admin role, and invite-only mode with improved loading logic that only shows \"Checking access...\" when queries are actively loading AND haven't fetched yet, preventing deadlocks by using effective defaults when queries fail or timeout.",
  "frontend/src/components/auth/LoginButton.tsx": "Login/logout button component using Internet Identity, handles authentication state and clears query cache on logout.",
  "frontend/src/components/auth/ProfileSetupDialog.tsx": "Modal dialog for profile setup/editing with hardened save flow that only disables save button for validation errors and mutation pending (not actor availability), includes fast-fail error handling when actor is null, and shows retry connection UI after 8 seconds when actor is unavailable.",
  "frontend/src/components/navigation/ModeCard.tsx": "Reusable card component for the home screen that displays game mode information with icon, title, description, and supports both Start New Game (with optional custom label via primaryCtaText prop) and Resume Game actions, with green/grey button styling based on resume state.",
  "frontend/src/components/matches/MatchSummaryCard.tsx": "Match summary card using buildMatchResultsNarrative for consistent formatting with the table view; renders mode name as ModePill (imported from components/ModePill) with details text below.",
  "frontend/src/components/matches/DeleteMatchButton.tsx": "Delete button with confirmation dialog for removing matches from history, invalidates queries after successful deletion.",
  "frontend/src/components/matches/EndMatchDialog.tsx": "Reusable confirmation dialog for ending and saving a session that only disables the confirm button based on disabled prop and isPending state (not actor availability), allowing pages to implement their own fast-fail/retry patterns.",
  "frontend/src/pages/HomePage.tsx": "Home page with 4-column grid layout displaying four mode tiles in corrected order (Official APA Match Log, APA 9-Ball Practice, Accepting Gifts, Straight Shot) with navigation to Match History.",
  "frontend/src/pages/apa/PracticeStartPage.tsx": "APA 9-Ball practice match setup page with lag selection that stores lagWinner (original player identity 'A'/'B'), activePlayer: 'A' (left seat shoots first), and bottomPlayer: 'B' (right seat increments innings) in session state.",
  "frontend/src/pages/apa/PracticeGamePage.tsx": "APA 9-Ball practice game page with rack scoring, match completion logic, and save/discard actions that now navigates to /history after saving a match instead of the individual match detail page.",
  "frontend/src/pages/accepting-gifts/AcceptingGiftsStartPage.tsx": "Start screen for Accepting Gifts with level selector (12-level dropdown), baseline level display, resume session support, confirmation dialog for in-progress sessions, and player name locked to the logged-in user's profile name (non-editable display).",
  "frontend/src/pages/accepting-gifts/AcceptingGiftsRulesPanel.tsx": "Rules panel explaining the 12-level Accepting Gifts system (2+8 → 7+9), +8/+9 game types, race-to-7 format, and win/loss progression rules.",
  "frontend/src/pages/accepting-gifts/AcceptingGiftsGamePage.tsx": "In-game Accepting Gifts session screen with clickable numbered ball buttons, race-to-7 scoring, baseline/levelPlayed tracking; the set-complete overlay now shows \"You Won!\" and \"Ghost Won\" without any emoji/icon prefix, and the \"Save & Start Next Match\" button is styled green (bg-green-600 hover:bg-green-700).",
  "frontend/src/pages/straight-shot/StraightShotStartPage.tsx": "Start screen for Straight Shot drill with player name locked to profile, moving average display (shows \"--\" when no history exists, otherwise shows \"X.X shots\"), Resume Session action, Rules accordion, and confirmation dialog when starting a new session over an existing one.",
  "frontend/src/pages/straight-shot/StraightShotGamePage.tsx": "In-progress Straight Shot session screen with single numeric input for total shots, Win/Loss display based on 20-shot threshold, and three end-session actions; the Rules accordion has been removed from this screen (it only appears on the start screen).",
  "frontend/src/pages/history/MatchHistoryPage.tsx": "Match history page card view updated to use a 3-column grid (`grid-cols-3 gap-4`) instead of the previous single-column stacked layout; all other logic and layout unchanged.",
  "frontend/src/pages/history/MatchDetailsPage.tsx": "Match details page for all game modes; fixed the mode label to show only 'Official APA' (not the concatenated 'APA PracticeOfficial APA') via a dedicated getModeLabel() function, and fixed the Edit button to navigate to the correct route `/real-apa-match/${matchId}/edit`.",
  "frontend/src/hooks/useQueries.ts": "React Query hooks for all backend operations including new useDeleteMatches mutation hook for bulk deletion that calls the backend's deleteMatches method and invalidates the matches query on success.",
  "frontend/src/lib/matches/matchBuilders.ts": "Match record builder entry point that exports buildOfficialApaMatchLog for Official APA match logs with automatic didWin computation (win → true, loss → false, unknown → undefined) based on skill levels and scores, supporting both create and edit modes via existingMatchId parameter, and re-exports other match builders.",
  "frontend/src/index.css": "Global styles with OKLCH color system using emerald/teal accent colors (avoiding blue/purple), defining light and dark mode tokens for a cohesive pool scorekeeper aesthetic.",
  "frontend/tailwind.config.js": "Tailwind configuration with Inter font family, emerald/teal primary colors in OKLCH format, and extended theme tokens matching the design system.",
  "frontend/src/pages/straight-shot/StraightShotRulesPanel.tsx": "Component displaying simplified Straight Shot rules explaining the objective to clear all balls in 20 shots or under, with instructions to complete the run first then record the total shots taken.",
  "frontend/src/lib/apa/apaEqualizer.ts": "APA 9-Ball Equalizer system mapping skill levels (1-9) to points-to-win requirements with validation and formatting utilities.",
  "frontend/src/lib/apa/apaScoring.ts": "APA 9-Ball rack scoring logic with 10-point rack validation, ball value helpers, dead ball tracking, innings counting, and PPI calculation utilities.",
  "frontend/src/lib/apa/apaMatchPoints.ts": "APA 9-Ball match-point conversion system implementing the 20-point team scoring chart based on loser's skill level and points earned, with corrected boundary conditions matching the official APA chart exactly.",
  "frontend/src/components/apa/ApaRackScoringPanel.tsx": "Main rack scoring panel for APA 9-ball matches with centered layout, defensive shot counters using text-lg font size, Mark Dead Balls button with default variant when unpressed and destructive variant when active (deadBallMode true), and Turn Over button disabled when in dead ball marking mode.",
  "frontend/src/components/apa/ApaResultsSummary.tsx": "Match completion summary component displaying both players' skill levels, points earned, defensive shots, innings, PPI, and team match-point conversion outcome.",
  "frontend/src/components/apa/ApaBallButton.tsx": "Reusable ball control component displaying balls 1-9 with distinct visual states (unscored, scored by Player A/B, dead), showing plain gray circles with white numbers for dead balls without strikethrough styling, accepting isLocked prop to disable clicks while maintaining normal appearance with cursor-not-allowed indication for locked balls from previous turns.",
  "frontend/src/components/apa/apaBallStyles.ts": "Utility functions for APA 9-ball rack scoring with corrected rack total validation that counts the 9-ball as 2 points (not 1) to ensure rack totals correctly display 10/10, while preserving the one-away rule for player scoring calculations and helper functions for ball state colors.",
  "frontend/src/components/apa/useApaInningFlow.ts": "React hook managing shared innings counter with comprehensive documentation explaining APA innings increment rules (increments when bottom player's turn ends), turn management logic (active player switches on Turn Over), and resetRack method that preserves active player and innings across rack boundaries for seamless match continuation.",
  "frontend/src/lib/accepting-gifts/acceptingGiftsSession.ts": "Pure session state helpers for Accepting Gifts using level indices (0–11), attempt result logic based on per-level max values, and set preparation.",
  "frontend/src/backend.d.ts": "TypeScript interface definitions for the backend canister including all match types (now with realApaMatchLog mode and RealApaMatchLog record type), user profiles, and Accepting Gifts persistence methods.",
  "frontend/src/utils/playerName.ts": "Pure utility functions for normalizing and comparing player names case-insensitively to ensure reliable matching across the app.",
  "frontend/src/utils/playerRoutes.ts": "Helper function to build the aggregate stats route path for a given player name with safe URL encoding.",
  "frontend/src/lib/apa/apaAggregateStats.ts": "Pure utility functions to extract per-player APA match datapoints from both APA Practice and Official APA matches with strict independent field cleaning, compute PPI and aPPI series, calculate rolling averages including new computeLast10Of20Average function, and compute Official APA win rate; now supports officialOnly parameter to filter out practice data.",
  "frontend/src/components/players/ApaAggregateCharts.tsx": "Two APA charts component (PPI trend and match results) with color-differentiated lines (PPI/Your Points black, aPPI/Opponent Points blue, Defensive Shots purple), all with strokeWidth={2}, connectNulls={true}, and shape differentiation (circle, square, triangle dots), passing unified timestamp-keyed dataset to each LineChart.",
  "frontend/src/pages/players/PlayerAggregateStatsPage.tsx": "Per-player aggregate stats page that loads official APA matches only, displays summary statistics cards with best-10-of-last-20 averages for both PPI and aPPI, predicted skill levels using detailed ranges based on official matches, and includes a Matchup Analysis section with the MatchupAnalysisDropdownPlayerStats component that now receives playerName={decodedPlayerName} prop to enable practice match identification in the analysis panel.",
  "frontend/src/pages/auth/AccessNotAllowedPage.tsx": "Access denied screen for non-approved users in invite-only mode, displaying a clear message and allowing users to request approval with graceful error handling that doesn't expose internal details.",
  "frontend/src/pages/owner/OwnerApprovalsPage.tsx": "Admin-only page for managing user approvals with invite-only mode toggle, pending requests table with approve/reject actions, bulk reject all pending button that sequentially calls setApproval for each pending user, and lists of approved and rejected users.",
  "frontend/src/pages/apa/RealApaMatchPlaceholderPage.tsx": "Official APA Match Log creation page that renders the shared RealApaMatchForm component in create mode with proper header and card layout.",
  "frontend/src/lib/apa/officialApaOutcome.ts": "Shared utility for deriving Official APA match win/loss/unknown outcome from skill levels and scores using deterministic rules based on points-to-win targets.",
  "frontend/src/lib/apa/officialApaPpi.ts": "Official APA PPI and aPPI calculation helpers; aPPI is now only computed for wins (losses return null/invalid so they display '--'), with all other PPI/aPPI logic unchanged.",
  "frontend/src/pages/apa/RealApaMatchEditPage.tsx": "Edit page for Official APA match logs that loads existing match data by matchId from route params, shows loading state while fetching, and renders the shared RealApaMatchForm component in edit mode with pre-filled values, now correctly using playerOneSkillLevel and playerTwoSkillLevel.",
  "frontend/src/components/apa/RealApaMatchForm.tsx": "Shared form component for creating and editing Official APA match logs with hardened save flow, fast-fail error handling when actor is null, retry connection UI after 8 seconds, and three additional validation constraints that now navigates to /history after saving in both create and edit modes instead of individual match detail pages.",
  "frontend/src/lib/matches/matchBuildersOriginal.ts": "Match record builders for APA Practice (using computeApaPracticeMatchOutcome), Accepting Gifts (with levelPlayed | baselineLevel | result note format), and Straight Shot modes with inline UUID generation.",
  "frontend/src/lib/matches/effectiveMatchDate.ts": "Shared helper module that computes an entry's effective match date for both display and sorting, now correctly parsing YYYY-MM-DD date strings as local calendar dates (avoiding UTC timezone off-by-one issues) while preserving fallback behavior for other date formats and non-official match types.",
  "frontend/src/utils/errorText.ts": "Helper utility to extract readable English error strings from unknown errors including nested/serialized backend error text.",
  "frontend/src/utils/withTimeout.ts": "Generic utility function that wraps a Promise with a timeout, throwing a clear English error message if the operation exceeds the specified time limit.",
  "frontend/src/hooks/useActorRetry.ts": "React hook providing a retry mechanism for actor initialization by clearing cached actor queries and triggering a refetch without requiring a page refresh.",
  "frontend/src/lib/apa/apaPracticeMatchOutcome.ts": "Shared helper module for computing APA Practice final match-point outcome from loser's skill level and loser's total points pocketed, parsing the outcome into winner/loser converted points for consistent use across UI and save operations.",
  "frontend/src/pages/SmokeCheckPage.tsx": "Post-deployment verification page displaying a checklist for smoke testing core navigation flows (Home ↔ Match History) with prominent navigation buttons for quick manual testing.",
  "frontend/src/hooks/useActor.ts": "Stable actor initialization hook with single-instance pattern that prevents unnecessary refetching and exposes isConnecting state for UI feedback.",
  "frontend/src/dev/straight-shot-spot-check.md": "Lightweight manual QA checklist documenting the required Straight Shot spot-check steps (start a session, enter total shots, save, view in history) to help ensure the Straight Shot codepath remains untouched while implementing APA Practice changes.",
  "frontend/src/lib/session/inProgressSessions.ts": "Centralized helper module for managing per-mode in-progress session state in sessionStorage with keys for APA Practice, Accepting Gifts, and Straight Shot modes, now including generic getInProgressSession and setInProgressSession functions for reading and writing typed session data.",
  "frontend/docs/v48-modecard-resume-button-order.md": "Documentation describing the minimal UI-only change to ModeCard button ordering, explicitly listing what was changed (button order) and what was not changed (all session logic, navigation, and gameplay functionality).",
  "frontend/src/pages/stats/StatsPage.tsx": "Full Stats hub with three tabs (Official APA, Straight Shot, Accepting Gifts) displaying numeric metric summaries with updated PPI label showing \"Last 10 matches\" and aPPI label showing \"Best 10 out of last 20 matches\", Matchup Analysis dropdown with opponent selection panel that correctly passes playerName prop to MatchupAnalysisPanel, APA aggregate charts filtered to official data only, and Accepting Gifts current level display using the correct property names (label and objectBallCount) with proper array access for performance rows.",
  "frontend/src/lib/stats/officialApaStats.ts": "Helper module that computes Official APA summary statistics (win rate using last 20 matches by effective date, average PPI using last 10 matches chronologically, average aPPI using best 10 of last 20 matches, total matches) from match history using official match logs only with updated labels for each metric.",
  "frontend/src/lib/stats/straightShotStats.ts": "Helper module that computes Straight Shot summary statistics (total sessions, rolling average, lifetime average, lowest shot count with date, trend data, histogram data, and per-ball summary rows) from match history.",
  "frontend/src/lib/stats/acceptingGiftsStats.ts": "Helper module that computes Accepting Gifts summary statistics (total sessions, rolling average of ending object ball counts) from match history.",
  "frontend/src/utils/urlParams.ts": "URL parameter utilities with sessionStorage helpers and secure hash-based secret extraction; now also exports `setNavigationOrigin`, `getNavigationOrigin`, and `clearNavigationOrigin` for context-aware back-link tracking across pages.",
  "frontend/src/lib/apa/apaSkillLevelPrediction.ts": "Helper module providing skill level prediction functions based on PPI and aPPI averages with separate range tables for Official APA Tab (original ranges) and Detailed Player Stats page (new ranges: PPI SL1-7 and aPPI SL1-7).",
  "frontend/src/components/straight-shot/StraightShotTrendChart.tsx": "Recharts-based Straight Shot trend component that groups shot data by calendar day and renders candlesticks (open/close/high/low per day) using a custom SVG Bar shape, with up-days shown as hollow (white fill) and down-days as filled (black), plus the existing trend line overlay; the legend now displays \"Shots (day)\" instead of \"Candle (day)\" while all axes, tooltip, and layout are preserved.",
  "frontend/src/components/straight-shot/StraightShotHistogram.tsx": "Recharts-based histogram component for Straight Shot with black bar styling (fill=\"#000\", stroke=\"#000\") showing shot-count buckets on x-axis and frequency on y-axis with English labels.",
  "frontend/src/components/straight-shot/StraightShotSummaryTable.tsx": "Straight Shot summary table component with columns Balls, Wins, Losses, First Win On, explicitly described as Straight Shot-specific with English labels and no Accepting Gifts terminology.",
  "frontend/src/components/history/MatchHistoryTable.tsx": "Match history table with multi-select/bulk delete; renders mode names as ModePill components followed by details text in the Match Results column; Practice APA entries now show no aPPI value (always displays '—'), while Official APA entries continue to display aPPI as before.",
  "frontend/src/lib/history/matchHistoryRowModel.ts": "Match Results narrative builder now returns a structured `{ modeName, details }` object (MatchResultsNarrative) instead of a plain string; fixes Accepting Gifts format to `startLevel | score | endLevel`, fixes Practice APA to show both player names as `PlayerA vs PlayerB | score/target - score/target | W/L`, and keeps Official APA and Straight Shots formats unchanged.",
  "frontend/src/lib/stats/acceptingGiftsPerformanceByBallCount.ts": "Helper module that computes Accepting Gifts wins/losses grouped by starting ball count levels 2–7 from saved completed sets, returning UI-friendly row models for rendering.",
  "frontend/src/components/accepting-gifts/AcceptingGiftsPerformanceByBallCountTable.tsx": "Accepting Gifts-only table component labeled \"Performance by Ball Count\" that explains in English it shows wins/losses per ball-count level (2–7) and renders aggregated rows from Accepting Gifts match history.",
  "frontend/src/lib/apa/officialApaExpectedPpiTable.ts": "Official APA Expected PPI lookup table transcribed from reference image with win% bucket helpers (10-20% through 90-100%) and skill level lookup function (SL2-SL7), including clamping for out-of-range values.",
  "frontend/src/lib/accepting-gifts/acceptingGiftsLevels.ts": "Authoritative 12-level Accepting Gifts progression module (2+8 → 7+9) with level lookup, max attempt calculation, and baseline progression logic (win/loss/skip rules).",
  "frontend/src/components/apa/MatchupAnalysisDropdown.tsx": "Dropdown component that displays a \"Matchup Analysis\" button and, when clicked, shows a menu with opponent names extracted from official APA matches for head-to-head analysis selection.",
  "frontend/src/components/apa/MatchupAnalysisPanel.tsx": "Panel component that displays head-to-head analysis against a specific opponent, showing both practice and official APA matches with distinct badges, computing Record/Win Rate/PPI stats from both match types when practice toggle is ON, displaying Avg PPI as primary metric with Best 10 of last 20 shown as subtext (Last 10 label removed), and rendering match history formatted with innings, defensive shots, scores, and W/L indicators.",
  "frontend/src/components/apa/MatchupAnalysisDropdownPlayerStats.tsx": "Dropdown component for matchup analysis on PlayerAggregateStatsPage with integrated toggle for Official vs Official+Practice games, and inline MatchupAnalysisPanel display with full filtered match data (no slicing) passed to the panel to enable both Last 10 and Best 10 of last 20 calculations.",
  "frontend/src/components/ui/ModePill.tsx": "New reusable styled pill/badge component that renders a mode name with a rounded-border outline matching image-121.png, used in both table and card views.",
  "frontend/src/components/ModePill.tsx": "Reusable styled pill/badge component for mode names in match history views, rendering a rounded-border outlined pill matching image-121.png; moved out of the read-only ui/ directory to components/."
}