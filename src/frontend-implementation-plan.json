{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Fix live scoring update in APA rack scoring panel",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Fix score update logic so displayed scores update immediately when balls are selected",
      "acceptanceCriteria": [
        "When a ball is clicked and assigned to playerA, playerB's score increases immediately on screen",
        "When a ball is clicked and assigned to playerB, playerA's score increases immediately on screen",
        "When a ball is marked as dead, both player scores update immediately to reflect the adjusted points",
        "Score changes are visible without requiring any additional user action or page refresh"
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/apa/ApaRackScoringPanel.tsx",
          "operation": "modify",
          "description": "Add React state for playerA and playerB scores that updates immediately when ballStates changes. Use useMemo or useEffect to compute scores from ballStates and store them in state variables that trigger re-renders. Ensure the score display components reference these state variables instead of computing scores inline in the render. This ensures that any ball click (playerA, playerB, or dead) triggers immediate score recalculation and display update."
        }
      ]
    }
  ]
}