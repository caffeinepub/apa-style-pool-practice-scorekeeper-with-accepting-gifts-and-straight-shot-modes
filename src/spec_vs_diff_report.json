{
  "kind": "spec_vs_diff_report",
  "version": "1.0",
  "generatedAt": "2026-02-16T12:38:34.805Z",
  "summary": "Diff shows work toward fixing Official APA chart emptiness by building per-series filtered datasets in `ApaAggregateCharts.tsx`, but other required pieces (legends with exact labels; numeric coercion in `extractPlayerApaMatches`) are not evidenced. There are also unrelated changes (URL param utilities and meta/state files) outside the requested scope.",
  "missing_requirements": [
    {
      "id": "REQ-217",
      "requirement": "Ensure both Official APA charts display a visible legend with exactly these English labels for the plotted lines: PPI, aPPI, Your Points, Opponent Points, Defensive Shots.",
      "reason": "Although `Legend` is imported in `ApaAggregateCharts.tsx`, the diff snippet does not show legend rendering or the exact label strings assigned to the plotted lines (e.g., via `Line` `name` props). Without this evidence, the requirement cannot be verified as implemented.",
      "evidence": [
        "frontend/src/components/players/ApaAggregateCharts.tsx (truncated)"
      ]
    },
    {
      "id": "REQ-218",
      "requirement": "Keep `extractPlayerApaMatches(...)` producing clean numeric values (or null) for chart-consumed fields for both APA Practice and Official APA matches, adjusting parsing/coercion so Official APA match log scores/defensive shots reliably reach chart datasets as numbers when valid.",
      "reason": "No changes to `extractPlayerApaMatches(...)` (or related parsing/coercion code in the APA aggregation layer) are shown in the diff summary; only chart-side filtering for numeric values is visible.",
      "evidence": [
        "frontend/src/components/players/ApaAggregateCharts.tsx (truncated)"
      ]
    }
  ],
  "hallucinated_features": [
    {
      "description": "Added/expanded URL parameter and sessionStorage utilities (getUrlParameter/getPersistedUrlParameter/etc.).",
      "reason": "BuildRequest scope is tightly limited to Stats → Official APA chart data/plotting, legends, and numeric coercion; URL parameter utilities are unrelated and constitute a broader change.",
      "evidence": [
        "frontend/src/utils/urlParams.ts (truncated)"
      ]
    },
    {
      "description": "Updates to project meta/state documentation describing additional planned work (e.g., Straight Shot stats changes, aPPI display behavior).",
      "reason": "BuildRequest explicitly scopes work to fixing Stats → Official APA charts and legends with no broad refactors; modifying project state/summary content and referencing unrelated changes is out of scope.",
      "evidence": [
        "project_state.json (truncated)"
      ]
    },
    {
      "description": "Bulk modification of a generated/summary listing file (`frontend-file-summaries.txt`).",
      "reason": "Not requested by any requirement; appears to be auxiliary documentation rather than implementing the specified chart fixes.",
      "evidence": [
        "frontend-file-summaries.txt (truncated)"
      ]
    }
  ],
  "confidence": 0.68,
  "changed_files": [
    "frontend-file-summaries.txt",
    "frontend/src/components/players/ApaAggregateCharts.tsx",
    "frontend/src/utils/urlParams.ts",
    "project_state.json"
  ]
}